# 09-商品详情功能

> 遇到问题，一定要有自己的思考，而不是一味地直接上网搜索！当然，思考5min过后就直接搜吧！

## ★需求

在分类功能里边，我们看到的商品都是产品的缩略图，如果我们有对这个产品的消费需求的话，肯定会看看该产品的具体详情的！

## ★思路

点击产品的缩略图 -> 绑定事件 -> 每个产品都有唯一的标识，即id -> 拿到id -> 跳到详情页面组件 -> 根据产品id发送ajax请求 -> 查询数据库获取产品详情

> xxx._id -> 一般有 `_` 是私有属性之意哈！

## ★TPR

1）JS变量命名规范？

a、变量命名必须以字母或是下标符号” `_` ”或者”`# 09-商品详情功能

> 遇到问题，一定要有自己的思考，而不是一味地直接上网搜索！当然，思考5min过后就直接搜吧！

## ★需求

在分类功能里边，我们看到的商品都是产品的缩略图，如果我们有对这个产品的消费需求的话，肯定会看看该产品的具体详情的！

## ★思路

点击产品的缩略图 -> 绑定事件 -> 每个产品都有唯一的标识，即id -> 拿到id -> 跳到详情页面组件 -> 根据产品id发送ajax请求 -> 查询数据库获取产品详情

> xxx._id -> 一般有 `_` 是私有属性之意哈！

## ★TPR

1）JS变量命名规范？

a、变量命名必须以字母或是下标符号” `_` ”或者””为开头。

b、变量名长度不能超过**255**个字符。

c、变量名中**不允许使用空格**，**首个字不能为数字**。

d、不用使用脚本语言中保留的关键字及保留符号作为变量名。

e、变量名**区分大小写**。(javascript是区分大小写的语言)

➹：[js中定义变量名有哪些规范_JavaScript_小屋博客-CSDN博客](https://blog.csdn.net/xiaowu_hhb/article/details/52788111)

## ★详情组件

路由跳转 -> 需要配置路由

1）如何带着id路由跳转？

传递参数有两种方式，而这两种方式有啥区别呢？请让我娓娓道来：

**路由配置：**

``` js
{
  path: 'detail',
  name: 'detail',
  component: Detail
}
```

> 有name是规范哈！

**有name：**

在push时传个对象参数，指定name属性（ `'detail'` ）和params属性（ `{id:id}` ）

在详情组件的created钩子里边接收参数，毕竟我们不涉及DOM操作！

``` js
this.$router.push({
  name: 'detail',
  params: {
    id: id
  }
});
```

``` js
this.$route.params.id
```

**另一种姿势——`query`：**

``` js
this.$router.push({
  path: '/detail',
  query: {
    id: id
  }
});
```

``` js
this.$route.query.id
```

> 注意：一个没有r，一个有r

区别：

后者的参数写在url里边的，如这样`/detail?id=4547879`

页面刷新后，还能取得参数值！ -> **像传统路由传参，get**

而前者则是这样的`/detail` -> 页面刷新后，就不能拿到参数值了 -> **像表单传参，post**

总之，命名传参刷新页面会数据丢失，而参数传参则不会，所以请在合适的场景下，选择合适的方式！

**第三种姿势传参：**

修改路由配置：

``` js
{
  path: '/detail/:id',
  name: 'detail',
  component: Detail
}
```

> `/:`是固定语法 -> 多个参数可以这样：`detail/:id/:name`
> 
> 路由是`/detail`，参数则是`/:id`

那如何跳转呢？

根据path的值来跳转和传参

需要用到拼接字符串：

``` js
this.$router.push(`/detail/${id}`)
```

接收参数方式：

``` js
this.$route.params.id
```

效果：

![第三种路由传参](assets/img/2020-03-20-13-16-03.png)

刷新界面，还能拿到参数值

注意，参数顺序一定要跟配置的一一对应，如是id开始的，那么路由跳转时就是从id开始的，不然你这样的话：

``` js
this.$router.push(`/detail/${name}`)
```

那么根据id去读取时，读取到的数据就是name的数据了！这样一来，显然数据就混乱了呀！不利于我们的开发进行！



















