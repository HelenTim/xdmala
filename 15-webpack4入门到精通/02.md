# 各种文件类型的处理

> 在 VS Code 里边，一个文件的内容写得过多，会很卡，如删除内容时贼慢，所以我把上篇笔记剩余的 3 个点写到这儿了

## ★html 处理？

为什么需要它？

> 之前我们是自己手动创建一个 html，然后手动引入一个 script 标签和 link 标签，那么有咩有什么办法可以自动引入 script 标签和 link 标签呢？——显然是有的哈！

安装插件：

``` bash
yarn add --dev html-webpack-plugin
```

配置：

``` js
const HtmlWebpackPlugin = require('html-webpack-plugin')
{
  plugins: [
    new HtmlWebpackPlugin({
      template: 'index.html', 
      filename: 'index.html'
    })
  ]
}
```

> template：指定以哪个文件作为模板，如果没有模板的话，那该如何创建一个html文件并且注入相应的代码呢？
> filename：打包出来的index.html叫啥名字哈！

webpack打包结果：

![手动注入依赖的css和html](assets/img/2019-12-19-18-38-50.png)

> 这个index.html是在dist目录下生成的，其结果和我们之前手动引入是一样的！

总之，使用了这个插件之后，可以自动加css文件和js文件到index.html里边去！

由于，我们设置了多入口，即entry对象旗下有多个键值，那么我们就需要new多几次插件：

> 有多个入口，意味着这是一个多页面应用，说白了，就是在告诉webpack「你要打包的是一个多页面应用」

总之，一个入口js就要对应一个页面，而不是两个入口js，都搞到同一个页面里边去了，因此，可有以下配置：

``` js
{
  plugins: [
    new HtmlWebpackPlugin({
      template: 'index.html', 
      filename: 'index.html'
    }),
    new HtmlWebpackPlugin({
      template: 'index.html', 
      filename: 'index2.html'
    })
  ]
}
```

打包之后，生成了两个页面，但是，这每个页面都引入了两个入口文件哈！可见，这依旧不是我们想要的！

目前，我们希望的是：一个页面有个xxx.js入口，另一个页面则是有个yyy.js入口

那么如何做呢？

很简单，设置一个chunks即可，如果不设置它的话，那么就会把所有的打包结果引进到一个index.html里边去了！

``` js
{
  plugins: [
    new HtmlWebpackPlugin({
      template: 'index.html',
      filename: 'index.html',
      chunks: ['xxx']
    }),
    new HtmlWebpackPlugin({
      template: 'index.html',
      filename: 'index2.html',
      chunks: ['yyy']
    })
  ]
}
```

> chunks的元素，是没有.js后缀的，不然会不起效果！即找不到一个叫如xxx.js的文件，然后就会把该文件引入进去，说白了，chunks识别的是不加后缀的文件名！

webpack打包的结果：

``` html
<!-- index.html -->
<head>
  <link href="xxx.min.css" rel="stylesheet">
</head>

<body>
  <div id="J_testModule" class="loc-zzz">我是局部使用的class</div>
  <script type="text/javascript" src="./xxx.js"></script>
</body>

<!-- index2.html -->
<head>
  <link href="xxx.min.css" rel="stylesheet">
</head>

<body>
  <div id="J_testModule" class="loc-zzz">我是局部使用的class</div>
  <script type="text/javascript" src="./yyy.js"></script>
</body>
```

> 之后，我会介绍如何处理多入口，毕竟多一个入口，就得多一个new，而这显然忒麻烦了！

<mark>小结：</mark>

1. 对HTML的处理，是通过插件来完成的！
2. 可以制定一个方法，来针对配置多入口时，需要new好几个页面这种繁琐操作！
3. 如果做多页面，如做两个页面，那么就得 new HtmlWebpackPlugin 两次才行
4. 如果不指定chunks，那么就会把所有的chunks（如js文件、css文件）都加到页面里边去！除非你指定了chunks，不然你自己看着办吧！

以上就是对HTML的处理了！接下来会说到如何处理图片。

**➹：** <https://github.com/jantimon/html-webpack-plugin>

## ★图片等其他资源的处理？




## ★作业

1、实现以上所提到的所有功能

2、并且再此基础上加上对 less 的编译

3、加上对于字体图标的处理-iconfont

``` js
 console.log(1)
```
