# 面向对象深度解析（3）

## TPR？

**1）Symbol？**

通过Symbol 可以在全局创建一个独一无二的值（注意，这并不是一个字符串值）

其语法很简单，直接 `Symbol()`即可生成一个值，而如果给它一个参数的话，如 `Symbol('xxx')`，那么这相当于是给这个值起了个叫 `xxx` 标注，当然，这个参数和Symbol出来的值没啥关系哈！

关于它的使用场景：如果我们不关心一个对象的某个属性的键值是多少的话，那么可以用 `Symbol()`来生成一个值，还有就是在class里边，我们要封装一个有私有调调的方法，即他人使用这个类的时候，即new一个对象出来的时候，是无法访问这个方法的，那么我们也可以把该方法Symbol化！

**➹：**[「每日一题」JS 中的 Symbol 是什么？ - 知乎](https://zhuanlan.zhihu.com/p/22652486)

**2）Java 的多态？**

事物在运行过程中存在不同的状态。例子：花木兰替父从军，花木兰在从军的时候暴露的属性和方法是来自于父亲的（向上转型），而在遇到心爱之人之后，花木兰她揭示了自己的真实身份，即此时她暴露的属性和方法才是真正属于她自己的！（向下转型）——花木兰在从军的过程中存在不同的属性和方法！

> 一个疑问：Java编译的时候做了什么？毕竟在涉及到对多态理解的时候，提及到「成员变量：编译看左边(父类),运行看左边(父类)」等等的文字描述！

**➹：**[JAVA的多态用几句话能直观的解释一下吗？ - 程序狗的回答 - 知乎](https://www.zhihu.com/question/30082151/answer/120520568)

**3）关于对面向对象之封装特性的一些误区？**

封装不是包装，与我们封装一个插件是两码事哈！面向对象的封装是指通过封装的过程能够控制类的属性和方法的可访问的方式！（关键点在于 **可访问** ）

总之，封装就是说：一部分的方法属性只能在这一个类里边访问，而其它外部是无法访问的，还有一部分是完全开放的，只要你实例化了这个类，那么都可以访问，还有一部分只能提供给自己的子类（继承了才可以访问）访问，而其它地方是访问不了的！




## ★封装

### ◇概述

- 面向对象里边的「封装」是面向对象语言的一个重要特性

- 封装：通过封装，控制类的属性与方法的可访问方式（信息隐藏大法）

- 关键字：private、public、protected
  - private：只有类的内部可访问
  - public：完成开发访问
  - protected：可供子类访问

> 我们日常使用一个类，那就是根据这个类，new一个实例出来，而这个实例能否访问类的成员属性或方法，得看我们是否用了public等关键字，当然，在JS 里边，一般类的成员属性和方法都是可访问的！

### ◇封装的好处

- 封装4个好处：

  1. 减少程序的耦合（程序与程序之间不会发生冲突）
  2. 自由修改类内部结构（随便修改封装，也可以说是接口里边的实现而不影响调用者，还有随意添加一些成员和方法……）
  3. 对成员准确的控制（提供3种访问权限，用于告知实例是否可访问，以及以什么样的方式访问）
  4. 隐藏隐私信息（如一些支付算法涉及到加密之类的，显然是类内部用的，即private的，如果有一些公共性的，那么就protected，然后继承了才可以用）

总之，针对不同的场景来为成员添加访问权限，而这会保证了程序的安全、以及程序的生态！

不过，很遗憾的是，ES6并咩有支持面向对象的封装特性！

那么是不是无法实现呢？——其实不是这样的，也是可以实现封装的，不过由于JS 代码是在前端的，即我们可以用浏览器来看到这些代码，所以关于封装的实现意义并咩有那么大！

当然，我们开发者还是希望有这个封装特性的，如TypeScript（JS的语法糖）就很香，毕竟它就支持如private、protected、public等关键字，即实现了面向对象的封装特性！

> ES6也可以实现封装，即实现成员私有，那就是用Symbol哈！

### ◇通过代码进一步了解封装

**1）PHP的封装**

People类：

![People类](assets/img/2019-12-04-14-24-05.png)

Student类：

![Student类](assets/img/2019-12-04-14-21-34.png)

测试：

```php
<?php

require_once('classes/student.php');

$xiaoming = new Student('xiaoming',175,70,1001,'Math');

echo $xiaoming -> say();
```

![say方法](assets/img/2019-12-04-14-29-29.png)

如果你这样：

```php
echo $xiaoming -> sno;
```

那么：

![Student实例访问类的私有属性](assets/img/2019-12-04-14-33-35.png)

同理：

```
echo $xiaoming -> subject;
```

这样，也是无法访问 `subject` 这个成员是属性的！

接下来测试一下People这个类：

```php
<?php

require_once('classes/people.php');

$xiaohong = new People('xiaohong',160,40);

echo $xiaohong -> name
```

结果：

![People的protected之name属性](assets/img/2019-12-04-16-58-25.png)

同理：

```php
echo $xiaohong -> intro() //Fatal error: Uncaught Error: Call to protected method People::intro() from……
echo $xiaohong -> drink() //Fatal error: Uncaught Error: Call to private method People::drink() from……
```

以上就是封装的好处了，我们在定义Student类的时候，只是想让学生说句自我介绍的话，即定义了一个public的 `say`方法，而其它的成员属性和成员方法是不需要用到的，因此我们就有私有化了，而且由于继承了People这个类，那么People旗下的protected化的成员属性和成员方法Student实例都可以用。

总之，我们定义一个类，如果不想让类旗下的某些属性、方法被外界知道，即被实例知道，那么我们就private呗！反之，如果想让大家都知道，那么就public呗！

好了，这就是所谓的面向对象的封装性了，这非常实用，如果学过Java、Python等纯面向对象语言，你就会发现它们的程序都是用一个一个的类垒起来的！而像PHP这样的，它就不是纯面向对象的语言了，毕竟它可以面向对象开发，也可以面向过程开发！

### ◇通过一些旁门左道来让ES6实现类的成员属性、方法私有化

我们在ES6的class特性写代码的时候，都用一个下划线 `_`来标注这个属性是私有的，如 `_xxx`，这是我们人为赋予的意义，即希望这个属性、方法不要让外界访问，但实际上这是可以访问的！（类似于此地无银三百两）

因此，我们利用了`Symbol()`这个值，它表示唯一的值，在当前页面永远不可能重复的值!







## ★多态

## ★面向过程和面向对象

### ◇区别

### ◇面向对象的意义

## ★总结

- 关于把「大象装进冰箱」这个比喻，为啥要把冰箱当作是个class呢？冰箱它会自己开门呢？——冰箱它不能自动开门，是我们人类打开的，可这人类就类似于我们自己 写了这样一行代码：`new 冰箱().open()`啊！开发者就像是上帝一样，他们在程序世界里边创造着自己所期望的程序哈！(程序=算法+数据结构+代码组织结构)