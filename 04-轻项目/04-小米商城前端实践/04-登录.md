---
typora-copy-images-to: img\04
---

# 登录

## ★课程内容

### ◇vue-cli和vue-loader版本说明

- vue-cli >= 3.0.0-beta.10

- vue-loader >= 15.0.0

  ```bash
  cnpm install -g @vue/cli@3.0.0-beta.11
  ```

| vue-cli版本   | 对应的vue-loader版本 |
| ------------- | -------------------- |
| 3.0.0-beta.9  | 14.2.1               |
| 3.0.0-beta.10 | 15.1.0               |
| 3.0.0-beta.11 | 15.1.0               |

- vue-loader v15和v14：[v14](https://vue-loader-v14.vuejs.org/zh-cn/)、[v15](https://vue-loader.vuejs.org/zh/)、[从v14迁移](https://vue-loader.vuejs.org/zh/migrating.html)
- v15和v14默认webpack配置

### ◇单vue文件组件

- [教程-单文件组件](https://cn.vuejs.org/v2/guide/single-file-components.html)：顶级元素、预处理器、CSS作用域
- 不能使用单文件组件的场景

### ◇[适配方案viewport](https://www.w3cplus.com/mobile/vw-layout-in-vue.html)

- 前身：[lib-flexible](https://github.com/amfe/lib-flexible)

- 安装插件

  ```bash
  cnpm i cssnano cssnano-preset-advanced postcss-aspect-ratio-mini postcss-cssnext postcss-import postcss-px-to-viewport postcss-url postcss-viewport-units postcss-write-svg -D
  ```

- 配置postcss

  ```js
  "postcss": {
    "plugins": {
      "postcss-import": {},
      "postcss-url": {},
      "postcss-aspect-ratio-mini": {},
      "postcss-write-svg": {
        "utf8": false
      },
      "postcss-cssnext": {},
      "postcss-px-to-viewport": {
        "viewportWidth": 375,
        "viewportHeight": 667,
        "unitPrecision": 3,
        "viewportUnit": "vw",
        "selectorBlackList": [
          ".ignore",
          ".hairlines"
        ],
        "minPixelValue": 1,
        "mediaQuery": false
      },
      "postcss-viewport-units": {},
      "cssnano": {
        "preset": "advanced",
        "autoprefixer": false,
        "postcss-zindex": false
      }
    }
  },
  ```

- 添加buggyfill

  ```html
  <script src="//g.alicdn.com/fdilab/lib3rd/viewport-units-buggyfill/0.6.2/??viewport-units-buggyfill.hacks.min.js,viewport-units-buggyfill.min.js"></script>
  <script>
    window.onload = function () {
      window.viewportUnitsBuggyfill.init({
        hacks: window.viewportUnitsBuggyfillHacks
      })
    }
  </script> 
  ```

- 案例(需在微信中打开)：http://sus.test.qi-cloud.com/#/

> 课堂源码：https://github.com/tonyfree/m.mi

### ◇样式处理

- 替换public/favicon.ico
- 引入模块：[normalize.css](https://github.com/necolas/normalize.css)
- 在assets下创建css文件夹，创建reset.css
- 在assets下创建images文件夹，把logo.png移入
- 在assets下创建fonts文件夹，引入[iconfont](http://www.iconfont.cn/)
  （字体图标的三种使用方式）

### ◇路由处理

- 删除App.vue的nav
- views下创建index.js，把路由的routes配置放在index.js中
- 创建tmp文件夹，存放样式组件(不含逻辑处理)
- 在tmp下创建MiLogin.vue组件

### ◇MiLogin.vue组件

- 结构、样式、图片
- reset.css初始化样式优化、字体图标处理
- Vue实例
- 模板语法：插值({{}})、指令(v-bind)、缩写( : @)
- 计算属性
- Class和Style绑定
- 条件渲染(v-if、v-show)
- 事件处理(v-on)
- 表单输入绑定(v-model)
- axios、RAP2
- 优化：函数节流、数据加密、scripts-serve

### ◇风格指南

- 单文件组件的文件名是单词大写开头 (PascalCase)
- 单文件组件的顶级元素的顺序
- 实例的选项的顺序(data、computed、methods)
- 元素特性的顺序(条件渲染、普通的绑定或未绑定的特性、事件)

### ◇业务场景

- 登录方式的切换
- 密码是否可见的切换
- 获取验证码
- 登录提交(校验)

### ◇作业

1. 密码不可见切换图标颜色
2. 校验：手机号码合法性校验，非空校验
3. 登录函数节流，局部加载的形式

---

## ★vue-cli和vue-loader版本说明

