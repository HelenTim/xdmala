---
typora-copy-images-to: img\04\01
---

# 框架搭建 & 持续集成（上）

## ★课程简介

### ◇注意

![parcel 问题](img/04/01/2018-8-30-15-46-16.png)


 如果出现上面图中的问题，请看下面👇

视频中使用 `npx parcel --no-cache` 命令，请自行改成 `npx parcel index.html --no-cache`，不改会出问题。

视频中使用 `npx parcel --no-cache` 命令，请自行改成 `npx parcel index.html --no-cache`，不改会出问题。

视频中使用 `npx parcel --no-cache` 命令，请自行改成 `npx parcel index.html --no-cache`，不改会出问题。

### ◇注意

如果你安装 node-sass 失败，那么请直接百度或者谷歌搜索「node sass 安装失败」

### ◇目录

1. 需求分析
2. UI 设计
3. 写代码
   1. 搭建框架
   2. button.vue
   3. icon.vue
4. 单元测试

我们需要通过 button 作为例子，来说明如何把这个项目的框架搭建起来。

### ◇注意

如果你在使用 WebStorm，请

1. 将 WebStorm 升级到 2018 版以上

2. 关闭 WebStorm 的 Safe Write 功能：

   ![取消勾选safe write](img/04/01/2018-7-19-23-36-11.png)

---

## ★🚨 parcel 报错怎么办（文章）

### ①No entres found 报错

![No entries found](img/04/01/2019-4-1-14-58-43.png)

在 parcel 后面添加 index.html 即可

比如：

```
./node_modules/.bin/parcel 改成./node_modules/.bin/parcel index.html
npx parcel 改成 npx parcel index.html
```

### ② ERERM 报错

![image.png](img/04/01/2019-4-2-13-36-57.png)

改用全局安装的 parcel 试试运气吧：

```bash
npm i -g parcel
parcel index.html --no-cache
```

## ★🚨 npm 报错怎么办？（文章）

如果 npm 报错，就改用 yarn 试试吧

```bash
rm -rf node_modules
yarn install
```

你没有安装 yarn? 自己去 yarn 官网下载安装包安装

## ★讲义（文章）

### ◇软件

- node 8
- npm 6，需要给 npm 配置淘宝源：npm config set registry <https://registry.npm.taobao.org/>
- 先不要用 yarn 以及 cnpm，只有在 npm 出问题的时候你再重试 yarn 和 cnpm。
- Windows 用户请先安装 Git Bash，教程见[这里](https://jscode.me/t/git-bash/97)

### ◇写给 Windows 用户的话

如果你目前在使用 Windows，那么需要注意一些事情：

1. 我们的工具大部分是命令行工具，如果你是 Windows 用户，那么你在使用这些工具的时候可能会遇到一些小问题。

   如果遇到命令行报错

   1. 首先你应该把报错的关键信息复制到 Google 看看有没有人遇到相同的问题，再看看他们是怎么解决的
   2. 如果你搜不到解决方案，可以在群里问我，但是要注意，请提供给我详细的报错信息（截图或复制到 jsbin.com）

2. 在看视频的过程中，有的时候你复制我运行的命令，发现命令报错，

   1. 你可以看完整节课的视频后再自己运行，因为很有可能我在后半段解决了这个问题
   2. 也有可能是 Windows 的问题，请在群里问我（记得截图）

### ◇代码

直播的时候写的代码：<https://github.com/FrankFang/frank-test-1>

设计稿：<https://yuque.com/u29422/gulu/197281/measure>

### ◇预先运行

1. 如果你的 npm 版本不到 6，就把 npm 升级到 6 以上： `npm i -g npm`
2. [设置 node-sass 的淘宝源](https://github.com/lmk123/blog/issues/28)
3. 如果还有问题，请尝试删除 node_modules 目录然后重新 `npm i` 。
4. 如果还有问题，请运行 `npm cache clean --force`

### ◇难点

1. Windows 安装 node-sass 容易失败
   - 可以看看[别人如何安装](https://www.google.com.hk/search?q=windows+安装+node-sass)
   - 可以把代码中的 `<style lang="scss">` 改为 `<style lang="less">` 使用 less 来写 CSS，语法跟 SCSS 差不多，但是安装起来快很多。

### ◇作业

这一课的作业需要你自己把 parcel + vue 的框架搭起来。详细请看课后题。

### ◇预告

下节课讲

1. 自动化测试
2. 发布我们的第一个轮子

### ◇UI

[语雀链接](https://yuque.com/u29422/gulu/197281)

### ◇知识点

1. parcel
   1. [官方推荐的配置](https://cn.vuejs.org/v2/guide/installation.html#Parcel)
2. scss
3. Vue 单文件组件
4. WebStorm 的快捷键
5. CSS变量和:root选择器
6. Vue.component
7. 插槽（slot）
8. $emit
9. props
10. Headless Chrome
11. Mock
12. npm scripts

